import AFRAME from 'aframe'
import React, { Component } from 'react'
import { css, StyleSheet } from 'aphrodite'

const styles = StyleSheet.create({
  wrapper: {
    height: '100%',
    width: '100%',
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center'
  },
  point: {
      width: '15px',
      height: '15px',
      borderRadius: '50%',
      backgroundColor: '#424242'
  },
  path: {
      strokeDasharray: '3000'
  }
})

class Loader extends Component {
    logFinished() {
        window.dispatchEvent(new Event('loader-ready'))
    }  

  componentDidMount() {
    const animation = AFRAME.anime({
        targets: '#line',
        strokeDashoffset: [ AFRAME.anime.setDashoffset, 0 ],
        easing: 'easeInOutSine',
        duration: 2500,
        delay: function(el, i) { return i * 250 },
        direction: 'normal',
        loop: false,
    })

     animation.finished.then(this.logFinished);

  }
  render() {
    return (
        <div className={ css(styles.wrapper) }>

            <svg className={ css(styles.svg) } width="7.32222in" height="3.03333in"viewBox="0 0 659 273">
                <path id='line' className={ css(styles.path) } fill="#FFFFFF" stroke="#424242" strokeWidth="3" strokeMiterlimit="100" 
            d="M 572.62,206.96
           C 560.62,211.21 559.12,230.99 570.25,237.88
             575.25,240.88 586.75,241.26 593.25,238.51
             599.00,236.13 601.75,229.74 601.00,220.73
             600.62,215.97 599.62,213.22 597.50,210.96
             592.50,205.70 581.38,203.83 572.62,206.96 Z
           M 302.12,82.26
           C 301.62,82.63 301.25,90.27 301.25,99.03
             301.25,99.03 301.25,115.06 301.25,115.06
             301.25,115.06 305.38,115.68 305.38,115.68
             315.88,117.44 316.62,117.31 319.88,112.30
             319.88,112.30 322.88,107.67 322.88,107.67
             322.88,107.67 335.25,107.67 335.25,107.67
             335.25,107.67 347.50,107.67 347.50,107.67
             347.50,107.67 347.50,159.50 347.50,159.50
             347.50,209.58 347.38,211.46 345.12,212.21
             343.75,212.59 341.25,214.09 339.50,215.47
             336.00,218.22 335.62,221.23 337.00,232.12
             337.00,232.12 337.88,237.88 337.88,237.88
             337.88,237.88 364.62,237.88 364.62,237.88
             384.88,237.88 391.50,237.50 391.88,236.25
             392.25,235.50 392.62,230.87 392.75,225.99
             392.75,225.99 393.12,217.22 393.12,217.22
             393.12,217.22 387.25,214.09 387.25,214.09
             387.25,214.09 381.25,210.96 381.25,210.96
             381.25,210.96 381.25,159.25 381.25,159.25
             381.25,159.25 381.25,107.67 381.25,107.67
             381.25,107.67 394.38,107.67 394.38,107.67
             394.38,107.67 407.50,107.67 407.50,107.67
             407.50,107.67 410.00,112.68 410.00,112.68
             412.13,116.94 413.00,117.56 416.00,117.06
             417.88,116.81 421.50,116.19 424.12,115.81
             424.12,115.81 428.88,115.06 428.88,115.06
             428.88,115.06 428.50,98.53 428.50,98.53
             428.50,98.53 428.12,82.01 428.12,82.01
             428.12,82.01 365.50,81.63 365.50,81.63
             331.13,81.51 302.50,81.76 302.12,82.26 Z
           M 155.75,83.51
           C 155.50,84.76 154.75,89.27 154.38,93.52
             154.38,93.52 153.50,101.41 153.50,101.41
             153.50,101.41 159.88,105.29 159.88,105.29
             159.88,105.29 166.25,109.30 166.25,109.30
             166.25,109.30 166.25,160.26 166.25,160.26
             166.25,160.26 166.25,211.21 166.25,211.21
             166.25,211.21 159.88,215.22 159.88,215.22
             154.25,218.72 153.62,219.48 154.25,222.61
             154.50,224.48 155.25,228.62 155.62,232.00
             155.62,232.00 156.38,237.88 156.38,237.88
             156.38,237.88 179.12,237.63 179.12,237.63
             179.12,237.63 201.88,237.25 201.88,237.25
             201.88,237.25 202.88,228.74 202.88,228.74
             204.12,218.97 203.12,217.10 195.50,213.47
             195.50,213.47 191.25,211.46 191.25,211.46
             191.25,211.46 191.25,175.91 191.25,175.91
             191.25,156.37 190.62,136.09 189.88,130.83
             189.12,125.58 188.88,120.94 189.12,120.57
             189.50,120.32 191.50,125.33 193.62,131.71
             195.88,138.10 203.50,154.87 210.62,169.02
             217.88,183.17 228.62,204.45 234.63,216.22
             234.63,216.22 245.62,237.88 245.62,237.88
             245.62,237.88 264.12,237.88 264.12,237.88
             264.12,237.88 282.50,237.88 282.50,237.88
             282.50,237.88 282.50,173.53 282.50,173.53
             282.50,173.53 282.50,109.30 282.50,109.30
             282.50,109.30 288.88,105.29 288.88,105.29
             288.88,105.29 295.25,101.29 295.25,101.29
             295.25,101.29 294.38,94.15 294.38,94.15
             292.75,80.00 295.38,81.38 270.00,81.38
             270.00,81.38 247.63,81.38 247.63,81.38
             247.63,81.38 246.88,87.26 246.88,87.26
             246.50,90.64 245.75,94.78 245.50,96.65
             244.75,100.16 247.75,103.92 253.88,107.17
             253.88,107.17 257.25,108.80 257.25,108.80
             257.25,108.80 258.00,148.61 258.00,148.61
             258.38,170.52 259.00,190.93 259.38,194.06
             259.88,198.57 259.00,196.94 255.25,186.55
             252.63,179.29 245.62,164.14 239.75,152.74
             233.88,141.35 223.25,120.69 216.12,106.80
             216.12,106.80 203.12,81.38 203.12,81.38
             203.12,81.38 179.75,81.38 179.75,81.38
             158.62,81.38 156.38,81.63 155.75,83.51 Z
           M 19.62,82.26
           C 19.12,82.63 18.75,90.27 18.75,99.03
             18.75,99.03 18.75,115.06 18.75,115.06
             18.75,115.06 22.88,115.68 22.88,115.68
             33.38,117.44 34.12,117.31 37.38,112.30
             37.38,112.30 40.38,107.67 40.38,107.67
             40.38,107.67 52.75,107.67 52.75,107.67
             52.75,107.67 65.00,107.67 65.00,107.67
             65.00,107.67 65.00,159.50 65.00,159.50
             65.00,209.58 64.88,211.46 62.62,212.21
             61.25,212.59 58.75,214.09 57.00,215.47
             53.50,218.22 53.12,221.23 54.50,232.12
             54.50,232.12 55.38,237.88 55.38,237.88
             55.38,237.88 82.12,237.88 82.12,237.88
             102.38,237.88 109.00,237.50 109.38,236.25
             109.75,235.50 110.13,230.87 110.25,225.99
             110.25,225.99 110.62,217.22 110.62,217.22
             110.62,217.22 104.75,214.09 104.75,214.09
             104.75,214.09 98.75,210.96 98.75,210.96
             98.75,210.96 98.75,159.25 98.75,159.25
             98.75,159.25 98.75,107.67 98.75,107.67
             98.75,107.67 111.88,107.67 111.88,107.67
             111.88,107.67 125.00,107.67 125.00,107.67
             125.00,107.67 127.50,112.68 127.50,112.68
             129.62,116.94 130.50,117.56 133.50,117.06
             135.38,116.81 139.00,116.19 141.62,115.81
             141.62,115.81 146.38,115.06 146.38,115.06
             146.38,115.06 146.00,98.53 146.00,98.53
             146.00,98.53 145.62,82.01 145.62,82.01
             145.62,82.01 83.00,81.63 83.00,81.63
             48.63,81.51 20.00,81.76 19.62,82.26 Z
           M 481.75,81.88
           C 458.25,87.26 443.12,102.79 435.88,128.83
             433.63,136.97 433.25,141.85 433.25,162.13
             433.25,188.68 434.88,198.94 441.00,212.09
             451.62,234.62 477.00,244.27 511.62,239.01
             527.25,236.63 550.00,228.62 550.00,225.49
             550.00,223.73 543.62,207.46 542.38,206.08
             541.88,205.45 536.88,206.20 531.00,207.83
             518.75,211.21 495.25,212.71 488.50,210.46
             473.50,205.45 466.38,185.42 467.88,152.37
             469.00,128.08 472.50,118.56 483.63,110.80
             488.38,107.42 490.00,107.05 497.88,107.05
             502.88,107.05 509.00,107.55 511.50,108.05
             515.62,108.92 516.25,109.55 516.88,113.68
             517.38,116.19 518.38,120.57 519.25,123.32
             519.25,123.32 520.88,128.33 520.88,128.33
             520.88,128.33 532.12,128.71 532.12,128.71
             532.12,128.71 543.38,129.08 543.38,129.08
             543.38,129.08 544.88,125.58 544.88,125.58
             546.75,121.07 550.00,103.67 550.00,98.41
             550.00,94.78 549.25,93.90 544.12,91.02
             531.62,84.26 519.25,81.13 503.75,80.63
             494.38,80.38 486.75,80.75 481.75,81.88 Z" />
            </svg>
        </div>
    );
  }
}

export default Loader